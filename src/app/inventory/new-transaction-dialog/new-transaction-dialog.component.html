<h2 mat-dialog-title>Create a New Transaction</h2>

<mat-dialog-content>
    <h3 *ngIf="items.length == 1">{{items[0].name}} - {{items[0].price | currency:'USD'}}</h3>

    <mat-form-field *ngIf="items.length > 1" class="item-select">
        <mat-label>Item</mat-label>
        <mat-select [(ngModel)]="selectedItem" name="item">
            @for (item of items; track item) {
                <mat-option [value]="item.name">{{item.name}} - {{item.price | currency:'USD'}}</mat-option>
            }
        </mat-select>
    </mat-form-field>

    <div class="inputs">
        <mat-form-field>
            <mat-label>Quantity</mat-label>
            <input matInput type="number" [(ngModel)]="quantity" />
        </mat-form-field>

        <mat-button-toggle-group [(ngModel)]="buysell" [hideSingleSelectionIndicator]="true">
            <mat-button-toggle value="buy">Buy</mat-button-toggle>
            <mat-button-toggle value="sell">Sell</mat-button-toggle>
        </mat-button-toggle-group>
    
        <mat-form-field>
            <mat-label>Price</mat-label>
            <input matInput type="number" [(ngModel)]="price"/>
            <span matTextPrefix>$&nbsp;</span>
        </mat-form-field>
    </div>
</mat-dialog-content>

<mat-dialog-actions>
    <button mat-button (click)="create()">Create</button>
    <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>